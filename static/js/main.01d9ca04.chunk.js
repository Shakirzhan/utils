(this.webpackJsonppets_hack=this.webpackJsonppets_hack||[]).push([[0],{108:function(e,t,n){e.exports=n(126)},126:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(13),i=n.n(c),o=n(19),s=n(24),u=n(23),l=n(38),f=n(39),v=[{name:"currency",path:"/currency"},{name:"about",path:"/about"}];var p=n(25),d=n.n(p),h=(n(40),d()({currencyRates:void 0}));function w(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"currency_rates.CBR_DAILY_FETCHED":return e.merge({cbrDaily:t.daily});case"currency_rates.USD_EUR_RATE_FETCHED":return e.merge({usdEurRate:t.daily});default:return e}}var g=d()({vk:void 0});function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"vk.accessTokenFetched":return e.merge({accessToken:t.accessToken});case"vk.notificationsStatusFetched":return e.merge({notificationStatus:t.notificationStatus});case"vk.insetsFetched":return e.merge({insets:t.insets});case"vk.accessTokenFailed":case"vk.notificationsStatusFailed":return e.merge({logs:t.error});default:return e}}function m(e){return e.vk.accessToken}function y(e){return e.vk.notificationStatus}function k(e){return e.vk.insets}var A=n(20),j=n(33),E=n(41),O=n(42);var x=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function R(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var B=n(16),C=n(17),U=n(27),S=n(26),Q=n(14),T=(n(36),n(10)),F=n.n(T),W=n(15),D=n(34);var I=new(function(){function e(){Object(B.a)(this,e)}return Object(C.a)(e,[{key:"getDaily",value:function(){var e=Object(W.a)(F.a.mark((function e(t){var n;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.getDate()+"_"+(t.getMonth()+1)+"_"+t.getFullYear(),e.abrupt("return",fetch("https://www.cbr-xml-daily.ru/daily_json.js?"+n).then((function(e){return e.json()})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"pad",value:function(e){return e<10?"0"+e:e}}]),e}()),K=new(function(){function e(){Object(B.a)(this,e)}return Object(C.a)(e,[{key:"getUsdEurRate",value:function(){var e=Object(W.a)(F.a.mark((function e(){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("https://free.currencyconverterapi.com/api/v5/convert?q=USD_EUR&compact=y&apiKey=88bb8bbba9a29716dfd5").then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}());var M=n(44),Z=n.n(M),H=function(e){Object(U.a)(n,e);var t=Object(S.a)(n);function n(){return Object(B.a)(this,n),t.apply(this,arguments)}return Object(C.a)(n,[{key:"componentWillMount",value:function(){this.props.dispatch(function(){var e=Object(W.a)(F.a.mark((function e(t,n){var r;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,K.getUsdEurRate();case 3:r=e.sent,t({type:"currency_rates.USD_EUR_RATE_FETCHED",daily:r}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()),this.props.dispatch(function(){var e=Object(W.a)(F.a.mark((function e(t,n){var r,a;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=new Date,e.next=4,I.getDaily(r);case 4:a=e.sent,t({type:"currency_rates.CBR_DAILY_FETCHED",daily:a}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}())}},{key:"render",value:function(){return a.a.createElement(Q.d,{id:this.props.id},a.a.createElement(Q.e,null,a.a.createElement("div",{style:{display:"flex",alignItems:"center"}},a.a.createElement("img",{width:"32",src:Z.a}),"\xa0\xa0\xa0\u041b\u0430\u043f\u044b \u0438 \u0445\u0432\u043e\u0441\u0442\u044b")),a.a.createElement(Q.c,{style:{height:"calc(100vh - 68px)",display:"flex",flexDirection:"column",justifyContent:"center"}},a.a.createElement(Q.c,{style:{textAlign:"center"}},a.a.createElement("h1",null,"\u0417\u0434\u0440\u0430\u0432\u0441\u0442\u0432\u0443\u0439\u0442\u0435, \u041d\u0438\u043a!"),a.a.createElement("div",{style:{marginBottom:16,fontSize:"17px",lineHeight:"20px"}},'\u0421 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435\u043c "\u041b\u0430\u043f\u044b \u0438 \u0445\u0432\u043e\u0441\u0442\u044b" \u0441\u043b\u0435\u0434\u0438\u0442\u044c \u0437\u0430 \u0437\u0434\u043e\u0440\u043e\u0432\u044c\u0435\u043c \u0412\u0430\u0448\u0435\u0433\u043e \u043f\u0438\u0442\u043e\u043c\u0446\u0430 \u043b\u0435\u0433\u043a\u043e \u0438 \u043f\u0440\u043e\u0441\u0442\u043e!'),a.a.createElement(Q.a,{size:"l"},"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c"))))}}]),n}(r.Component);var Y=Object(o.b)((function(e){return{notificationStatus:y(e)}}))(H),_=function(e){Object(U.a)(n,e);var t=Object(S.a)(n);function n(){return Object(B.a)(this,n),t.apply(this,arguments)}return Object(C.a)(n,[{key:"componentWillMount",value:function(){this.props.dispatch(function(){var e=Object(W.a)(F.a.mark((function e(t){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:D.subscribe((function(e){var n=e.detail;if(n){var r=n.type,a=n.data;switch(r){case"VKWebAppUpdateInsets":t({type:"vk.insetsFetched",insets:a.insets})}}else console.error("invalid event",e)})),D.send("VKWebAppInit",{no_toolbar:!0});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},{key:"render",value:function(){var e="about"===this.props.route.name?"aboutPanel":"mainPanel";return a.a.createElement(Q.b,{insets:this.props.insets},a.a.createElement(Q.f,{activeView:"mainView"},a.a.createElement(Q.g,{id:"mainView",activePanel:e},a.a.createElement(Y,{id:"mainPanel"}))))}}]),n}(r.Component);var q=Object(o.b)((function(e){return{accessToken:m(e),insets:k(e)}}))((function(e){return a.a.createElement(s.a,{nodeName:""},(function(t){var n=t.route;return a.a.createElement(_,Object.assign({route:n},e))}))})),J=function(){var e=Object(u.b)(v,{defaultRoute:"currency"});return e.usePlugin(l.a),e.usePlugin(Object(f.a)({useHash:!0})),e}(),G=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object(A.a)(O.a,Object(j.a)(e),Object(E.createLogger)())(A.d),r=n(Object(A.c)({router:j.b,currencyRates:w,vk:b}),t);return window.store=r,r}(J);J.start((function(){i.a.render(a.a.createElement(o.a,{store:G},a.a.createElement(s.b,{router:J},a.a.createElement(q,{router:J}))),document.getElementById("root"))})),function(){if("serviceWorker"in navigator){if(new URL(".",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat(".","/service-worker.js");x?(!function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):R(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")}))):R(e)}))}}()},44:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABmJLR0QA/wD/AP+gvaeTAAAC7ElEQVR4nO2ZPWtUQRhGnwlIIhFRQcVKRU0CfpSJWgjqf/AbG8EuPyEqVqlEG2sbO2NQrBQ0BkEtRI0GFQQJgogBPyAWYvBY7C5cFvbOvXfeueviHNhu58wzw8zuzDtSIpFIJBKJUAAHnARmge/Nz0PgBOC67YsKsBK4Q2duAwPd8kUHmM4J22KqW76oNJdkUY7W7YsOMFci8Iu6fVEBhkuEbbG9Ll8R+kIaSxqr0GZvjT4voROwybiNtc9L6AT8qdCGGn1eQifgs3Eba5+X0Al4WqHN4xp98QFelvjFfl63LzrAsRKBj9TtqwXgZoGwN7rliw4wANzKCTtNucuQqa8WaFxfjwMzwLfm5wEVz+vWvkQZ6KViRAaT3PRaMaKJWW56qRiRwSQ3vVaMaGKWm14qRmQIye0ykiFJ70r2vcM5975C4H2SDkjarMZtbkHSrHPuSQWXTW7gdIlZbHGqZNjDwKsc3xxwqKQzKHf2NrixTMdNChcjgIuS7kralfO13ZLuAedLZAjKHXodLlSMAM5KmijYX5+kC8B4SDBfpGxnLaIUI4AxSVcruC8BoxYZCrUBhirspW15vQD9wOsK3hZv8BxeTHNjX9yYrBCunckC/djkxrAYAYwBy2VG2oFlPFvBMrdJMYLGfX6+wmA7MQ/0x86dDR9UjMBm6beTuxUscmdllYsRwCg2S7+dIluhu0UUwn/1fXj/FcoSehBqZ0LSTmNnlhFJ5yyFZtUdYL2kD5IGrZwd+CVp2Dm3YCGzXAHjij94SeqXdMZKZjkBBw1dPvZbiSy3wA9Jq618HhadcxssRJYrYJWhy0fQk3gWywn4ZOjyEfQknsVyAh4Zunw8sxJZTsA1Q5eP6zX2VYzmMXQm4imwxf1uj7UjwFZgMeLgvwBbuj3OXIA9wMcIg18A8gqq/w7AWuAKsGQw8CXgMrAmRtaoL73AoBoPICOS1klaUbDpb0lfJb1V48HkZ5yEiUQikUgkEv8xfwEwUbaImKTKGQAAAABJRU5ErkJggg=="}},[[108,1,2]]]);
//# sourceMappingURL=main.01d9ca04.chunk.js.map