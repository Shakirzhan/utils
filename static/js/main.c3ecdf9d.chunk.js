(this.webpackJsonppets_hack=this.webpackJsonppets_hack||[]).push([[0],{108:function(e,t,n){e.exports=n(128)},119:function(e,t){},128:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(18),i=n.n(c),o=n(12),l=n(26),s=n(24),u=n(38),p=n(39),m=[{name:"main",path:"/main"},{name:"city",path:"/city"},{name:"choice",path:"/choice"},{name:"input",path:"/input"},{name:"consent",path:"/consent"}];var f=n(27),h=n.n(f),v=(n(117),n(119),h()({mainAppState:void 0}));function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.type,e}var g=h()({vk:void 0});function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"vk.accessTokenFetched":return e.merge({accessToken:t.accessToken});case"vk.notificationsStatusFetched":return e.merge({notificationStatus:t.notificationStatus});case"vk.insetsFetched":return e.merge({insets:t.insets});case"vk.accessTokenFailed":case"vk.notificationsStatusFailed":return e.merge({logs:t.error});default:return e}}function A(e){return e.vk.accessToken}function b(e){return e.vk.notificationStatus}function y(e){return e.vk.insets}var k=n(21),w=n(33),O=n(40),j=n(41);var x=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function C(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var M=n(13),S=n(14),W=n(16),D=n(15),P=n(3),T=(n(20),n(34)),I=n.n(T),N=n(43),B=n(35);n(25);var z=n(44),J=n.n(z),R=n(45),F=n.n(R),U=function(e){Object(W.a)(n,e);var t=Object(D.a)(n);function n(){return Object(M.a)(this,n),t.apply(this,arguments)}return Object(S.a)(n,[{key:"render",value:function(){return console.log("db: ",this),r.a.createElement(P.f,null,r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},r.a.createElement("img",{onClick:this.props.openMain,width:"42",src:F.a}),"\xa0\xa0\xa0\u041b\u0430\u043f\u044b \u0438 \u0445\u0432\u043e\u0441\u0442\u044b"))}}]),n}(a.Component);var X=Object(o.b)((function(e){return{}}))(U),Y=function(e){Object(W.a)(n,e);var t=Object(D.a)(n);function n(){var e;Object(M.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).openNext=function(){e.props.router.navigate("choice")},e}return Object(S.a)(n,[{key:"componentWillMount",value:function(){}},{key:"render",value:function(){return r.a.createElement(P.e,{id:this.props.id},r.a.createElement(X,{openMain:function(){}}),r.a.createElement(P.c,{style:{height:"calc(100vh - 85px)",display:"flex",flexDirection:"column",justifyContent:"center"}},r.a.createElement(P.c,{style:{textAlign:"center",height:"90%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-between"}},r.a.createElement("img",{style:{marginTop:"20%"},src:J.a,width:"240"}),r.a.createElement("div",null,r.a.createElement("h1",{style:{marginTop:0}},"\u0417\u0434\u0440\u0430\u0432\u0441\u0442\u0432\u0443\u0439\u0442\u0435, \u041d\u0438\u043a!"),r.a.createElement("div",{style:{fontSize:"17px",lineHeight:"20px"}},'\u0421 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435\u043c "\u041b\u0430\u043f\u044b \u0438 \u0445\u0432\u043e\u0441\u0442\u044b" \u0441\u043b\u0435\u0434\u0438\u0442\u044c \u0437\u0430 \u0437\u0434\u043e\u0440\u043e\u0432\u044c\u0435\u043c \u0412\u0430\u0448\u0435\u0433\u043e \u043f\u0438\u0442\u043e\u043c\u0446\u0430 \u043b\u0435\u0433\u043a\u043e \u0438 \u043f\u0440\u043e\u0441\u0442\u043e!')),r.a.createElement(P.a,{size:"xl",component:"a",onClick:this.openNext},"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c"))))}}]),n}(a.Component);var K=Object(o.b)((function(e){return{notificationStatus:b(e)}}))(Y),Z=function(e){Object(W.a)(n,e);var t=Object(D.a)(n);function n(){var e;Object(M.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).openNext=function(){e.props.router.navigate("input")},e.openMain=function(){e.props.router.navigate("main")},e}return Object(S.a)(n,[{key:"componentWillMount",value:function(){}},{key:"render",value:function(){return r.a.createElement(P.e,{id:this.props.id},r.a.createElement(X,{openMain:this.openMain}),r.a.createElement(P.c,null,r.a.createElement(P.c,{style:{textAlign:"center"}},r.a.createElement("h1",null,"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043f\u0438\u0442\u043e\u043c\u0446\u0430")),r.a.createElement(P.c,null,r.a.createElement(P.c,null,r.a.createElement(P.a,{size:"xl",component:"a",onClick:this.openNext},"\u041a\u043e\u0442")),r.a.createElement(P.c,null,r.a.createElement(P.a,{size:"xl",component:"a"},"\u0421\u043e\u0431\u0430\u043a\u0430")),r.a.createElement(P.c,null,r.a.createElement(P.a,{size:"xl",component:"a"},"\u0414\u0440\u0443\u0433\u043e\u0439 \u043f\u0438\u0442\u043e\u043c\u0435\u0446")))))}}]),n}(a.Component);var L=Object(o.b)((function(e){return{notificationStatus:b(e)}}))(Z),V=function(e){Object(W.a)(n,e);var t=Object(D.a)(n);function n(){var e;Object(M.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).openNext=function(){e.props.router.navigate("consent")},e.openMain=function(){e.props.router.navigate("main")},e}return Object(S.a)(n,[{key:"componentWillMount",value:function(){}},{key:"render",value:function(){return r.a.createElement(P.e,{id:this.props.id},r.a.createElement(X,{openMain:this.openMain}),r.a.createElement(P.c,null,r.a.createElement(P.c,{style:{textAlign:"center"}},r.a.createElement("h1",null,"\u041a\u0430\u043a \u0437\u043e\u0432\u0443\u0442 \u0412\u0430\u0448\u0435\u0433\u043e \u043f\u0438\u0442\u043e\u043c\u0446\u0430"),r.a.createElement(P.d,{type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043b\u0438\u0447\u043a\u0443"})),r.a.createElement(P.c,{style:{textAlign:"center"}},r.a.createElement("h1",null,"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0434\u0430\u0442\u0443 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f"),r.a.createElement(P.d,{type:"date"})),r.a.createElement(P.c,null,r.a.createElement(P.a,{size:"xl",component:"a",onClick:this.openNext},"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c"))))}}]),n}(a.Component);var Q=Object(o.b)((function(e){return{notificationStatus:b(e)}}))(V),H=function(e){Object(W.a)(n,e);var t=Object(D.a)(n);function n(){var e;Object(M.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).openNext=function(){},e.openMain=function(){e.props.router.navigate("main")},e}return Object(S.a)(n,[{key:"componentWillMount",value:function(){}},{key:"render",value:function(){return r.a.createElement(P.e,{id:this.props.id},r.a.createElement(X,{openMain:this.openMain}),r.a.createElement(P.c,null,r.a.createElement(P.c,{style:{textAlign:"center"}},r.a.createElement("h1",null,"\u0425\u043e\u0442\u0438\u0442\u0435 \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0435\u0449\u0435 \u043f\u0438\u0442\u043e\u043c\u0446\u0430?")),r.a.createElement(P.c,null,r.a.createElement(P.c,{style:{margin:"0 auto",width:"150px",display:"flex",justifyContent:"space-between"}},r.a.createElement(P.a,null,"\u0414\u0430"),r.a.createElement(P.a,{onClick:this.openNext},"\u041d\u0435\u0442")))))}}]),n}(a.Component);var q=Object(o.b)((function(e){return{notificationStatus:b(e)}}))(H),G=function(e){Object(W.a)(n,e);var t=Object(D.a)(n);function n(){return Object(M.a)(this,n),t.apply(this,arguments)}return Object(S.a)(n,[{key:"componentWillMount",value:function(){this.props.dispatch(function(){var e=Object(N.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:B.subscribe((function(e){var n=e.detail;if(n){var a=n.type,r=n.data;switch(a){case"VKWebAppUpdateInsets":t({type:"vk.insetsFetched",insets:r.insets})}}else console.error("invalid event",e)})),B.send("VKWebAppInit",{no_toolbar:!0});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},{key:"render",value:function(){var e={main:"mainPanel",city:"cityPanel",choice:"choicePanel",input:"inputPanel",consent:"consentPanel"}[this.props.route.name];return r.a.createElement(P.b,{insets:this.props.insets},r.a.createElement(P.g,{activeView:"mainView"},r.a.createElement(P.h,{id:"mainView",activePanel:e},r.a.createElement(K,{router:this.props.router,id:"mainPanel"}),r.a.createElement(L,{router:this.props.router,id:"choicePanel"}),r.a.createElement(Q,{router:this.props.router,id:"inputPanel"}),r.a.createElement(q,{router:this.props.router,id:"consentPanel"}))))}}]),n}(a.Component);var _=Object(o.b)((function(e){return{accessToken:A(e),insets:y(e)}}))((function(e){return r.a.createElement(l.a,{nodeName:""},(function(t){var n=t.route;return r.a.createElement(G,Object.assign({route:n},e))}))})),$=function(){var e=Object(s.b)(m,{defaultRoute:"main"});return e.usePlugin(u.a),e.usePlugin(Object(p.a)({useHash:!0})),e}(),ee=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object(k.a)(j.a,Object(w.a)(e),Object(O.createLogger)())(k.d),a=n(Object(k.c)({router:w.b,appState:d,vk:E}),t);return window.store=a,a}($);$.start((function(){i.a.render(r.a.createElement(o.a,{store:ee},r.a.createElement(l.b,{router:$},r.a.createElement(_,{router:$}))),document.getElementById("root"))})),function(){if("serviceWorker"in navigator){if(new URL(".",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat(".","/service-worker.js");x?(!function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):C(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")}))):C(e)}))}}()},25:function(e,t,n){},44:function(e,t,n){e.exports=n.p+"static/media/pets.50e1fccb.svg"},45:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC0AAAAnCAYAAACbgcH8AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAMkSURBVHgB1VbdcdNAEP5OtofhzTxAxsQwcgWYDpwKcAckFZAO4lTAUAFOBYEK4g7iDizAiZPwEPECJIO17IooOZ1OD3a0YvLNaCTt7Z2+0+3PBzxAmLKB+QX1zRLDZYLpy03zyefzbUGDABhcA+Nex0T4n1gsKDw9J8quxXfaK/ic057tM59THzUh8FobyJGkBCP5q9m7PBMwsn1MC+9QE/ykE4SuqWGwe/scFAkaU5yjBS/phPClYDR4Zb2FxUn4gZrgJc1HPykYDeK7R7TdYd6oN1k1kJI+OafhyYJGM05Aee92zJhvU9uR6O49SXDgrBPdzEmrzukZ7c4XtA0tuFXg6wkNU7tUkDM6TO0XdJRtSDC7pLZvTObaa/HPGEEBhj96yfFgH3d89RO9Xs/EK64FJjpDPt7j5xvmCSpG02Nrt1rph3PhIWWOK0ifw6SdcMy/6JiJO45igrahgCZn/ZQza2AbqXH3MSHT5LrNZFMfLm1cxiEhFV0l2Mo6IXfP2E1rTugxFBAYwg7fI8sWZX9R4p1r8lFG2EH4KMAs65bdrpkyy4m9znWCfSgg1R6SdEvWEIFB++oX6wiOZyHsdr3SRQKMOk/NviRo6zeG9jpQgFcwrUL4dqEb4qgBBdJpwnFIYA2wItxyE1QDBdKesrUKIi6Xr8vCoiq5m8v3my4WYn2Ejx5j2zcgeRMQjjmM9ppNHJbJXTll8ZEkL5O7OdJch9/ivgjwxmuvUO7mSJPxlrbVQCVrVCh38+3AUnL3QOQzVil3c6STP6XNIEqW+MDqbie9+LmMHB/xQYl9giLpteRuoXpIwnCYDEVjkBBrYNp9Zqa+yVINggQD8eWjjJcsX7OSJ3KX/1TfrgJcmY751rc2Mt7cMDupP0tjSUBr+YjFVs/+Dm8iziRw5dCWuwYK0Ja7TdSDSuWuDmlluRtAAdpyVyWmU3KKcleNtIsq5W4tpKuWuyox7YIJf8SakLmzGeW6pTppDbmrTlpD7qrHtLReVADWIbdc9WNaQe6qt3GRu0ED7z1DInc/86b+tXZCn/0kDELX0ZW7tZS8quTug8Zf6W1vtuH9jBIAAAAASUVORK5CYII="}},[[108,1,2]]]);
//# sourceMappingURL=main.c3ecdf9d.chunk.js.map